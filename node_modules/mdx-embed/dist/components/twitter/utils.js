Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handleTwttrLoad = exports.twttrClassNames = void 0;

var _utils = require("../../utils");

var isTwttrScriptAdded = false;
var twttrClassNames = [".twitter-tweet", ".twitter-timeline", ".twitter-follow-button", ".twitter-mention-button", ".twitter-hashtag-button"].join(",");
exports.twttrClassNames = twttrClassNames;
var twttrEmbedScript = "\n!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\")\n";

var twttrLoad = function twttrLoad() {
  if (typeof window.twttr !== "undefined" && window.twttr.widgets && typeof window.twttr.widgets.load === "function") {
    window.twttr.widgets.load(document.getElementById("___gatsby"));
  }
};

var handleTwttrLoad = function handleTwttrLoad() {
  if (document.querySelector(twttrClassNames) !== null) {
    if (!isTwttrScriptAdded) {
      (0, _utils.createScriptTag)(null, twttrEmbedScript);
      isTwttrScriptAdded = true;
    }
  }

  twttrLoad();
};

exports.handleTwttrLoad = handleTwttrLoad;